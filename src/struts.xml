<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="default" extends="struts-default">

		<!--**************************** interceptores para evitar el doubleSubmit 
			***************************** -->
		<interceptors>
			<interceptor-stack name="doubleSubmit">
				<interceptor-ref name="fileUpload">
					<param name="maximumSize">2097152</param>
				</interceptor-ref>
				<interceptor-ref name="params">
					<param name="excludeParams">dojo/..*,struts.token,struts.token.name</param>
				</interceptor-ref>
				<interceptor-ref name="validation" />
				<interceptor-ref name="workflow" />
				<interceptor-ref name="token" />
				<interceptor-ref name="basicStack" />
			</interceptor-stack>
		</interceptors>

		<!--******************************************************* Actions para 
			registros de servicios de informaciÃ³n *************************************************** -->

		<action name="prepararRegistro" method="prepararRegistro"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">
				registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="prepararDescripcionGeneral" method="prepararDescripcionGeneral"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">
				registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="registrarDescripcionGeneral" method="registrarDescripcionGeneral"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="success" type="redirectAction">prepararAspectosLegales</result>
			<result name="invalid.token">registro/registro_servicio_informacion.jsp
			</result>
			<result name="input">registro/registro_servicio_informacion.jsp
			</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="prepararAspectosLegales" method="prepararAspectosLegales"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="registrarAspectosLegales" method="registrarAspectosLegales"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="success">registro/registro_servicio_informacion.jsp
			</result>
			<result name="invalid.token">registro/registro_servicio_informacion.jsp
			</result>
			<result name="input">registro/registro_servicio_informacion.jsp
			</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="eliminarAspectoLegal" method="deleteFile"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">
				registro/registro_servicio_informacion.jsp
			</result>
			<result name="input">
				registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="prepararDescripcionTecnica" method="prepararDescripcionTecnica"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="registrarDescripcionTecnica" method="registrarDescripcionTecnica"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="success" type="redirectAction">prepararDescripcionSoporte
			</result>
			<result name="invalid.token">registro/registro_servicio_informacion.jsp
			</result>
			<result name="input">registro/registro_servicio_informacion.jsp
			</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="prepararDescripcionSoporte" method="prepararDescripcionSoporte"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="registrarDescripcionSoporte" method="registrarDescripcionSoporte"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="success">registro/funcionalidades.jsp</result>
			<result name="invalid.token">registro/registro_servicio_informacion.jsp
			</result>
			<result name="input">registro/registro_servicio_informacion.jsp
			</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="eliminarServicioInformacion" method="eliminarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success" type="redirectAction">home</result>
		</action>

		<action name="publicarServicioInformacion" method="publicarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success" type="redirectAction">home</result>
		</action>

		<action name="despublicarServicioInformacion" method="despublicarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success" type="redirectAction">home</result>
		</action>

		<action name="examinarServicioInformacion" method="examinarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">user/examinarServicio.jsp</result>
		</action>

		<action name="prepararModificarServicioInformacion" method="prepararModificarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">registro/registro_servicio_informacion.jsp
			</result>
		</action>

		<action name="modificarServicioInformacion" method="modificarServicioInformacion"
			class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">registro/funcionalidades.jsp</result>
			<result name="input">registro/registro_servicio_informacion.jsp
			</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>


		<!--******************************************** Actions para Funcionalidades 
			*************************************** -->

		<action name="prepararModificacionesServicioInformacion"
			method="prepararModificaciones" class="ve.gob.cnti.srsi.controlador.ServicioInformacionControlador">
			<result name="success">modificar/modificar_servicio_informacion.jsp
			</result>
		</action>


		<action name="prepararFuncionalidad" method="prepararFormulario"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success">registro/formulario_funcionalidad.jsp</result>
		</action>

		<action name="prepararModificacionesFuncionalidad" method="prepararModificaciones"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success">registro/formulario_funcionalidad.jsp</result>
		</action>

		<action name="registrarFuncionalidad" method="registrarFuncionalidad"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success" type="chain">
				<param name="actionName">prepararEntradas</param>
			</result>
			<result name="input">registro/formulario_funcionalidad.jsp</result>
		</action>

		<action name="modificarFuncionalidad" method="modificarFuncionalidad"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success" type="chain">
				<param name="actionName">prepararFuncionalidad</param>
			</result>

			<result name="input">registro/formulario_funcionalidad.jsp</result>
		</action>

		<action name="prepararResumen" method="prepararResumen"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success">registro/formulario_funcionalidad.jsp</result>
			<result name="input">registro/formulario_funcionalidad.jsp</result>
		</action>

		<action name="prepararFuncionalidades" method="prepararFuncionalidades"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success">registro/funcionalidades.jsp</result>
		</action>

		<action name="eliminarFuncionalidad" method="eliminarFuncionalidad"
			class="ve.gob.cnti.srsi.controlador.FuncionalidadControlador">
			<result name="success">registro/funcionalidades.jsp</result>
		</action>

		<!--********************************************* Actions para Entradas 
			********************************************* -->

		<action name="prepararEntradas" method="prepararFormulario"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/entradas.jsp</result>
		</action>

		<action name="prepararEntradaSimple" method="prepararFormularioSimple"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/formulario_entrada.jsp</result>
		</action>

		<action name="registrarEntrada" method="registrarEntrada"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success" type="chain">
				<param name="actionName">prepararEntradas</param>
			</result>
			<result name="input">registro/formulario_entrada.jsp</result>
		</action>

		<action name="prepararEntradaCompleja" method="prepararFormularioComplejo"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/formulario_entrada.jsp</result>
		</action>

		<action name="prepararModificarEntradaSimple" method="prepararModificarEntradaSimple"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/formulario_entrada.jsp</result>
		</action>

		<action name="prepararModificarEntradaCompleja" method="prepararModificarEntradaCompleja"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/formulario_entrada.jsp</result>
		</action>

		<action name="modificarEntrada" method="modificarEntrada"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/entradas.jsp</result>
			<result name="input">registro/formulario_entrada.jsp</result>
		</action>

		<action name="eliminarEntradaSimple" method="eliminarEntradaSimple"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/entradas.jsp</result>
		</action>

		<action name="eliminarEntradaCompleja" method="eliminarEntradaCompleja"
			class="ve.gob.cnti.srsi.controlador.EntradaControlador">
			<result name="success">registro/entradas.jsp</result>
		</action>

		<!--*********************************************** Actions para Salidas 
			*********************************************** -->
		<action name="prepararSalidas" method="prepararFormulario"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/salidas.jsp</result>
		</action>

		<action name="prepararSalidaSimple" method="prepararFormularioSimple"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/formulario_salida.jsp</result>
		</action>

		<action name="registrarSalida" method="registrarSalida"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success" type="chain">
				<param name="actionName">prepararSalidas</param>
			</result>
			<result name="input">registro/formulario_salida.jsp</result>
		</action>

		<action name="prepararSalidaCompleja" method="prepararFormularioComplejo"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/formulario_salida.jsp</result>
		</action>

		<action name="prepararModificarSalidaSimple" method="prepararModificarSalidaSimple"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/formulario_salida.jsp</result>
		</action>

		<action name="prepararModificarSalidaCompleja" method="prepararModificarSalidaCompleja"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/formulario_salida.jsp</result>
		</action>

		<action name="modificarSalida" method="modificarSalida"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/salidas.jsp</result>
			<result name="input">registro/formulario_salida.jsp</result>
		</action>

		<action name="eliminarSalidaSimple" method="eliminarSalidaSimple"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/salidas.jsp</result>
		</action>

		<action name="eliminarSalidaCompleja" method="eliminarSalidaCompleja"
			class="ve.gob.cnti.srsi.controlador.SalidaControlador">
			<result name="success">registro/salidas.jsp</result>
		</action>

		<!-- *********************************************************** Logins 
			*********************************************************** -->

		<action name="autenticarUsuario" method="mostrarLogin"
			class="ve.gob.cnti.srsi.controlador.LoginControlador">
			<result name="success">user/login.jsp</result>
		</action>

		<action name="index" method="autenticarUsuario"
			class="ve.gob.cnti.srsi.controlador.LoginControlador">
			<result name="input">user/login.jsp</result>
			<result name="success" type="redirectAction">home</result>
			<result name="accesoInvalido" type="redirectAction">index</result>
		</action>

		<action name="salir" method="desloguearUsuario"
			class="ve.gob.cnti.srsi.controlador.LoginControlador">
			<result name="success" type="redirectAction">inicio</result>
		</action>

		<action name="inicio" method="inicio"
			class="ve.gob.cnti.srsi.controlador.LoginControlador">
			<result name="success" type="redirectAction">autenticarUsuario</result>
		</action>

		<action name="home" method="home"
			class="ve.gob.cnti.srsi.controlador.LoginControlador">
			<result name="success">user/main.jsp</result>
			<result name="input" type="redirectAction">autenticarUsuario</result>
		</action>

		<!-- ********************************************* Actions para Usuarios 
			**************************************************** -->
		<action name="configuracionUsuario" method="configuracion"
			class="ve.gob.cnti.srsi.controlador.UsuarioControlador">
			<result name="success">registro/formulario_usuario.jsp</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="modificarClave" method="modificarClave"
			class="ve.gob.cnti.srsi.controlador.UsuarioControlador">
			<result name="success">registro/formulario_usuario.jsp</result>
			<result name="input">registro/formulario_usuario.jsp</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="prepararFormulario" method="prepararFormulario"
			class="ve.gob.cnti.srsi.controlador.UsuarioControlador">
			<result name="success">registro/formulario_usuario.jsp</result>
			<result name="errorSession" type="redirectAction">home</result>
		</action>

		<action name="modificarClave" method="modificarClave"
			class="ve.gob.cnti.srsi.controlador.UsuarioControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="invalid.token" type="redirectAction">home</result>
			<result name="success">registro/formulario_usuario.jsp</result>
			<result name="input">registro/formulario_usuario.jsp</result>
			<result name="errorSession" type="redirectAction">salir</result>
		</action>

		<action name="modificarDatos" method="modificarDatos"
			class="ve.gob.cnti.srsi.controlador.UsuarioControlador">
			<interceptor-ref name="doubleSubmit" />
			<result name="invalid.token" type="redirectAction">home</result>
			<result name="success">registro/formulario_usuario.jsp</result>
			<result name="input">registro/formulario_usuario.jsp</result>
			<result name="errorSession" type="redirectAction">salir</result>
		</action>
	</package>
	<constant name="struts.devMode" value="true" />
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />	
</struts>